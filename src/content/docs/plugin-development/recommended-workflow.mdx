---
title: Recommended Workflow
description: Recommended Workflow
sidebar:
  order: 2
---

For an optimized and efficient development experience, we recommend adopting the following workflow for creating plugins for the Re:Earth Visualizer. This approach utilizes a plugin template designed with:

- **React** as the front-end framework.
- **ShadCN**, integrated with Tailwind CSS, as the UI solution.

This workflow, rather than following the standard plugin installation process, enables the Re:Earth Visualizer to dynamically retrieve the plugin directly from the preview server. This approach significantly streamlines the development cycle by allowing faster and more efficient plugin testing and iteration.

## Create New Plugin using Template

For now we recommend using this <a href="https://github.com/reearth-plugins/reearth-visualizer-plugin-shadcn-template" target="_blank">Re:Earth Visualizer Plugin ShadCN Template</a>, we'll have more templates available in the future.

Create your new plugin repository using the template.

Navigate to the plugin directory and explore the structure of the template repository.

```bash
cd your-new-plugin
```

Install dependencies:

```bash
yarn install
```

Build plugin once for initialize the reqired files:

```bash
yarn build
```

Start devlepment & preview server:

```bash
yarn dev-build
```

:::note
Now your plugin will be auto-build and serve on `http://localhost:5005`.
:::

:::tip
For more information about the template please read its <a href="https://github.com/reearth-plugins/reearth-visualizer-plugin-shadcn-template" target="_blank">README.md</a>.
:::

## Develop plugin together with Visualizer

import { LinkCard } from "@astrojs/starlight/components";

<LinkCard title="Quick Start" href="/introduction/quick-start/" />

:::caution
Make sure you can visit Re:Earth Visualizer at `http://localhost:3000`.
:::

### Setup Re:Earth Visualizer to enable dev plugin

Navigate to the `web` directory of your local `Re:Earth Visualizer` project.

```bash
cd web
touch .env
```

Add the following environment variables to the `.env` file:

```plaintext
REEARTH_WEB_DEV_PLUGIN_URLS='["http://localhost:5005"]'
```

Note: Web server will auto restart after .env file changes.

### Create Re:Earth Visualizer Project

In order to develop a plugin, you need to create a new project on the Re:Earth Visualizer so that you can add your plugin widget to the scene and see the changes.

import { Steps } from "@astrojs/starlight/components";

<Steps>

1. Visit your local Re:Earth Visualizer at `http://localhost:3000`.

2. Create a new project on Dashboard.

3. Double-click the project to enter it.

4. Click the `Install Dev Plugins` button (on the right end of header) to install your local plugin.

5. Go to `Widgets` tab and add your plugin widget into the scene.

6. Do development on your plugin code.

7. Click the `Reload Dev Plugin Extensions` button to see the changes in the Re:Earth Visualizer.

</Steps>

:::note
**Install Dev Plugins** Button

- This tool fetches plugin files directly from the preview server, automatically zips them, and facilitates their installation.
- **When to Use**: Click this button when initially setting up your development environment or after any modifications to `reearth.yml`.

**Reload Dev Plugin Extensions** Button

- This tool rapidly reloads all plugin extensions from the preview server.
- **Advantage**: Reloading only the plugin itself, not the entire page, significantly accelerates the development cycle.

import plugin_install_icon from "@assets/plugin-development/PluginInstall.svg?raw";
import plugin_update_icon from "@assets/plugin-development/PluginUpdate.svg?raw";
import { Icon } from "astro-icon/components";

:::

### Develop Plugin

Now you can develop your plugin together with the Re:Earth Visualizer.

The plugin will be auto-built when you save the code, and the changes will be reflected in the Re:Earth Visualizer after you click the `Reload Dev Plugin Extensions` button.

#### Dev Plugin Buttons

<div style={{ display: "flex", alignItems: "center", gap: "10px" }}>
  <Icon name="PluginInstall" size={30} display={"inline"} />
  <span>**Install Dev Plugins:**</span>
</div>

- This tool fetches plugin files directly from the preview server, automatically zips them, and facilitates their installation.
- **When to Use**: Click this button when initially setting up your development environment or after any modifications to `reearth.yml`.

<div style={{ display: "flex", alignItems: "center", gap: "10px" }}>
  <Icon name="PluginUpdate" size={30} display={"inline"} />
  <span>**Reload Dev Plugin Extensions:**</span>
</div>

- This tool rapidly reloads all plugin extensions from the preview server.
- **Advantage**: Reloading only the plugin itself, not the entire page, significantly accelerates the development cycle.
